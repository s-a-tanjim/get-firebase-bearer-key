(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,n){var content=n(235);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(105).default)("24f2d440",content,!0,{sourceMap:!1})},185:function(e,t,n){"use strict";var r=n(37),component=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("navbar"),e._v(" "),n("div",{staticClass:"container"},[n("Nuxt")],1)],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{Navbar:n(256).default})},186:function(e,t,n){n(187),e.exports=n(188)},234:function(e,t,n){"use strict";n(171)},235:function(e,t,n){var r=n(104)(!1);r.push([e.i,".nuxt-link-exact-active{color:rgba(0,0,0,.9)!important}",""]),e.exports=r},236:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"actions",(function(){return l}));n(20);var r=function(){return{JWTToken:null,refreshToken:null,loginCheck:!1,userInfo:{name:"",email:"",firebase_uid:""},errorLog:null,showErrorMsg:!1}},o={setFirebaseInfo:function(e,data){e.userInfo.name=data.displayName,e.userInfo.email=data.email,e.userInfo.firebase_uid=data.uid,e.loginCheck=!0},setJWTInfo:function(e,data){e.JWTToken=data.JWTToken,e.refreshToken=data.refreshToken},resetUserInfo:function(e){e.JWTToken=null,e.refreshToken=null,e.loginCheck=!1},handleError:function(e,t){e.errorLog=t,e.showErrorMsg=!0},handleFirebaseError:function(e,t){e.errorLog=t,e.showErrorMsg=!0}},l={initialCall:function(e){e.commit,e.dispatch,e.getters}}},237:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"actions",(function(){return c}));var r=n(4),o=(n(32),n(20),n(53)),l=function(){return{user:null}},c={registerUser:function(e,t){return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.commit,r=null,n.prev=2,n.next=5,o.default.auth().createUserWithEmailAndPassword(t.email,t.password);case 5:return r=o.default.auth().currentUser,n.next=8,r.updateProfile({displayName:t.name});case 8:n.next=15;break;case 10:throw n.prev=10,n.t0=n.catch(2),r&&r.delete(),console.log(n.t0),n.t0;case 15:case"end":return n.stop()}}),n,null,[[2,10]])})))()},loginUser:function(e,t){return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.commit,n.prev=1,n.next=4,o.default.auth().signInWithEmailAndPassword(t.email,t.password);case 4:n.sent,n.next=11;break;case 7:throw n.prev=7,n.t0=n.catch(1),console.log(n.t0),n.t0;case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()},onAuthStateChangedAction:function(e,t){var n=t.authUser;t.claims;console.log("Action | onAuthStateChangedAction | called!"),console.log(n),n?(console.log("JWTToken"),console.log(n.za),console.log("Refresh Token"),console.log(n.refreshToken),e.commit("setJWTInfo",{JWTToken:n.za,refreshToken:n.refreshToken},{root:!0}),e.commit("setFirebaseInfo",n,{root:!0})):e.commit("resetUserInfo",null,{root:!0})},verifyUserEmail:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.default.auth().currentUser,e.prev=1,e.next=4,t.sendEmailVerification();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},getJWT:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,e.dispatch,t.prev=1,t.next=4,o.default.auth().currentUser.getIdToken(!0);case 4:r=t.sent,console.log("JWT Token"),console.log(r),n("setJWTInfo",{JWTToken:r},{root:!0}),t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(1),console.log("getJWT error"),console.log(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()},logoutUser:function(e){var t=e.commit;o.default.auth().signOut(),sessionStorage.clear(),t("resetUserInfo",null,{root:!0}),this.$router.app.refresh()}}},256:function(e,t,n){"use strict";n.r(t);var r={methods:{logout:function(){this.$store.dispatch("auth/logoutUser")}}},o=(n(234),n(37)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[n("div",{staticClass:"container-fluid"},[n("nuxt-link",{staticClass:"navbar-brand",attrs:{tag:"a",to:"/"}},[e._v("Firebase Auth")]),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[n("client-only",[n("ul",{staticClass:"navbar-nav ms-auto"},[e.$store.state.loginCheck?[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:e.logout}},[e._v("Logout")])])]:[n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",attrs:{tag:"a",to:"/register"}},[e._v("Register")])],1),e._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",attrs:{tag:"a",to:"/login"}},[e._v("Login")])],1)]],2)])],1)],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,null,null);t.default=component.exports}},[[186,6,1,7]]]);